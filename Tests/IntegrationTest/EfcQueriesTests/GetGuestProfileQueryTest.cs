using ViaEventManagementSystem.Infrastructure.EfcQueries;
using ViaEventManagementSystem.Infrastructure.EfcQueries.Queries;
using ViaEventManagementSytem.Core.QueryContracts.Contracts;
using ViaEventManagementSytem.Core.QueryContracts.Queries;
 

namespace IntegrationTest.EfcQueriesTests;

public class GetGuestProfileQueryTest
{


    [Fact]
    public async Task GetGuestProfileQueryTest_ShouldReturnGuestProfile()
    {

        //Arrange
        var setupReadyContext = VeadatabaseProductionContext.SetupReadContext();

        var seededContext = VeadatabaseProductionContext.Seed(setupReadyContext);

        var query = new GetGuestProfilePage.Query("6f6e4b5a-0114-4be6-892c-a8fe015d702a");
        IQueryHandler<GetGuestProfilePage.Query, GetGuestProfilePage.Answer> handler1 = new GetGuestProfile(seededContext);

        //Act
        var answer = await handler1.HandleAsync(query);

        //Assert
        Assert.NotNull(answer);
       

    }

}